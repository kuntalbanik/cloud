<div class="page-content">
      <div class="wrapper">
        <br>
<div class="post">
    <div class="container">
        <div class="row justify-content-md-center" id="cover-section">
            <div class="col-md-9">
                <img class="img-fluid lazy" alt="" src="/img/reverse-engineering-of-the-django-admin-foreign-keys-addedit-button/cover.jpg" title="">
                <br><br>
                <h1 class="post-title" style="margin-top:15px;">Reverse Engineering of the Django Admin Foreign Key's Add/Edit Button</h1>
                <h6 class="post-spans">Posted: 07 July 2017 | Post By: Jai Singhal |
                    <!-- <span id="ga-page-view" ga-page-url=/how-to/reverse-engineering-of-the-django-admin-foreign-keys-addedit-button/></span> <i class="fa fa-eye"></i> |  -->
                    <i class="fa fa-clock"></i>
                    9 min read |
                    <a style="text-decoration: none;" href="https://djangopy.org/how-to/reverse-engineering-of-the-django-admin-foreign-keys-addedit-button/#disqus_thread" data-disqus-identifier="/how-to/reverse-engineering-of-the-django-admin-foreign-keys-addedit-button/">23 Comments</a>
                </h6>
                <br>
                <hr><br>
            </div>
        </div>
        <div class="row justify-content-md-center" id="content_area">
            <div class="col-12 col-sm-12 col-md-9 col-lg-2" id="toc_navbar">
                <nav class="navbar navbar-light fixed-navbar" id="toc-nav" style="display:grid;border:none;"> 
  <h5>Contents</h5>
      <ul class="nav nav-pills">
<li class="toc-entry nav-item toc-h2"><a href="#introduction">Introduction</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#implementing-server-side">Implementing Server-side</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#implementing-client-side">Implementing Client-Side</a></li>
<li class="toc-entry nav-item toc-h2"><a href="#final-words">Final Words</a></li>
</ul>
</nav>
            </div>

            <div class="col-md-9">
                <div class="post-content" data-spy="scroll" data-target="#toc-nav" data-offset="0"> 
                    <h2 id="introduction">Introduction</h2>
<p>In this tutorial, we will learn about how to add Django Admin’s Foreign key’s Add and Edit feature on Django form, so that we can easily add and edit the Foreign Key element in a pop-up window without refreshing the same page. This can be done with the help of AJAX.</p>

<p>Recently I was working on a project and I wanted a functionality such that I can add Foreign Key element just like Django Admin provides. I wanted this feature to be implemented in a form of my app and I found this interesting and surely it will be interesting and helpful to you too.</p>

<p><img class="img-fluid lazy" alt="" src="/img/reverse-engineering-of-the-django-admin-foreign-keys-addedit-button/2.jpg" title=""></p>

<h2 id="implementing-server-side">Implementing Server-side</h2>
<p>Now let’s implement this functionality to your Django app. I will discuss the implementation with the help of an example. Here I take an example of Model Book and Author where Author is a foreign key field in Book Model.</p>

<h4 id="modelspy">Models.py</h4>
<p>For the example discussed above, the class Model Author and Book would look like which is shown below. You need NOT to change your models.py, this is just for the sake of explaining with the appropriate example.</p>

<figure class="highlight">
  <pre><code class="language-python hljs" data-lang="python" id="code-0"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-0" style="display: none;">Copy</button><span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">django.db</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">models</span>
<span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">django.utils</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">timezone</span>

<span class="k"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">Author</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-class"><span class="hljs-params">models</span></span></span><span class="o"><span class="hljs-class"><span class="hljs-params">.</span></span></span><span class="n"><span class="hljs-class"><span class="hljs-params">Model</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">)</span>:</span></span>
	<span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span> <span class="o">=</span> <span class="mi"><span class="hljs-number">100</span></span><span class="p">)</span>
	<span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="bp"><span class="hljs-function"><span class="hljs-params">self</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">)</span>:</span></span>
		<span class="k"><span class="hljs-keyword">return</span></span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="k"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">Book</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-class"><span class="hljs-params">models</span></span></span><span class="o"><span class="hljs-class"><span class="hljs-params">.</span></span></span><span class="n"><span class="hljs-class"><span class="hljs-params">Model</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">)</span>:</span></span>
	<span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span> <span class="o">=</span> <span class="mi"><span class="hljs-number">100</span></span><span class="p">)</span>	
	<span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Author</span><span class="p">)</span>
	<span class="n">price</span> <span class="o">=</span>  <span class="n">models</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">(</span><span class="n">max_digits</span><span class="o">=</span><span class="mi"><span class="hljs-number">12</span></span><span class="p">,</span> <span class="n">decimal_places</span><span class="o">=</span><span class="mi"><span class="hljs-number">4</span></span><span class="p">,</span> <span class="n">default</span> <span class="o">=</span> <span class="mi"><span class="hljs-number">0</span></span><span class="p">)</span>
	<span class="n">publish</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
	<span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="bp"><span class="hljs-function"><span class="hljs-params">self</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">)</span>:</span></span>
		<span class="k"><span class="hljs-keyword">return</span></span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span></code></pre>
</figure>

<h4 id="formspy">Forms.py</h4>
<p>Design your form and do other Validations, here I am, showed you a basic example of forms</p>

<figure class="highlight">
  <pre><code class="language-python hljs" data-lang="python" id="code-1"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-1" style="display: none;">Copy</button><span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">django.forms</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">ModelForm</span>
<span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">.models</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">Book</span><span class="p">,</span> <span class="n">Author</span>

<span class="k"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">BookForm</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-class"><span class="hljs-params">ModelForm</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">)</span>:</span></span>
	<span class="k"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="p"><span class="hljs-class">:</span></span>
		<span class="n">model</span> <span class="o">=</span> <span class="n">Book</span>
		<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
			<span class="s"><span class="hljs-string">"title"</span></span><span class="p">,</span>
			<span class="s"><span class="hljs-string">"author"</span></span><span class="p">,</span>
			<span class="s"><span class="hljs-string">"price"</span></span><span class="p">,</span>
			<span class="s"><span class="hljs-string">"publish"</span></span><span class="p">,</span>
		<span class="p">]</span>

<span class="k"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">AuthorForm</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-class"><span class="hljs-params">forms</span></span></span><span class="o"><span class="hljs-class"><span class="hljs-params">.</span></span></span><span class="n"><span class="hljs-class"><span class="hljs-params">ModelForm</span></span></span><span class="p"><span class="hljs-class"><span class="hljs-params">)</span>:</span></span>
	<span class="k"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="nc"><span class="hljs-class"><span class="hljs-title">Meta</span></span></span><span class="p"><span class="hljs-class">:</span></span>
		<span class="n">model</span> <span class="o">=</span> <span class="n">Author</span>
		<span class="n">fields</span> <span class="o">=</span> <span class="p">[</span>
			<span class="s"><span class="hljs-string">"name"</span></span>
		<span class="p">]</span></code></pre>
</figure>

<h4 id="viewspy">Views.py</h4>
<p>Now, this is the important part of this tutorial. First of all, import all the forms, models and all the necessary imports to the view. Here I am using Function based views, you can use Class Based views it doesn’t matter.</p>

<p>These functions are self-explanatory, only the HttpResponse with JS script may be tricky for you to understand, it is only sending a response of script to close the popup by calling the function closePopup once the form is successfully submitted.</p>

<p>Note that in function get_author_id(), I have used a decorator @csrf_exempt, this is done so because when you make Ajax call you need to send csrftoken in data. You can remove this decorator and send a csrftoken with the ajax call which is discussed the same in the previous Post</p>

<figure class="highlight">
  <pre><code class="language-python hljs" data-lang="python" id="code-2"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-2" style="display: none;">Copy</button><span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">django.shortcuts</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">render</span>
<span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">django.http</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">HttpResponse</span><span class="p">,</span> <span class="n">HttpResponseRedirect</span>
<span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">.forms</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">BookForm</span><span class="p">,</span> <span class="n">AuthorForm</span>
<span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">.models</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">Book</span><span class="p">,</span> <span class="n">Author</span>
<span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">django.views.decorators.csrf</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">csrf_exempt</span>
<span class="kn"><span class="hljs-keyword">import</span></span> <span class="nn">json</span>

<span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">BookCreate</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">)</span>:</span></span>
	<span class="n">form</span> <span class="o">=</span> <span class="n">BookForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span> <span class="ow"><span class="hljs-keyword">or</span></span> <span class="bp"><span class="hljs-keyword">None</span></span><span class="p">)</span>
	<span class="k"><span class="hljs-keyword">if</span></span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
		<span class="n">instance</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>		
		<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">HttpResponseRedirect</span><span class="p">(</span><span class="s"><span class="hljs-string">"/"</span></span><span class="p">)</span>
	<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s"><span class="hljs-string">"book_form.html"</span></span><span class="p">,</span> <span class="p">{</span><span class="s"><span class="hljs-string">"form"</span></span> <span class="p">:</span> <span class="n">form</span><span class="p">,})</span>

<span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">AuthorCreatePopup</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">)</span>:</span></span>
	<span class="n">form</span> <span class="o">=</span> <span class="n">AuthorForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span> <span class="ow"><span class="hljs-keyword">or</span></span> <span class="bp"><span class="hljs-keyword">None</span></span><span class="p">)</span>
	<span class="k"><span class="hljs-keyword">if</span></span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
		<span class="n">instance</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

		<span class="c1"><span class="hljs-comment">## Change the value of the "#id_author". This is the element id in the form</span>
</span>		
		<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s"><span class="hljs-string">'&lt;script&gt;opener.closePopup(window, "</span></span><span class="si"><span class="hljs-string">%</span></span><span class="s"><span class="hljs-string">s", "</span></span><span class="si"><span class="hljs-string">%</span></span><span class="s"><span class="hljs-string">s", "#id_author");&lt;/script&gt;'</span></span> <span class="o">%</span> <span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">pk</span><span class="p">,</span> <span class="n">instance</span><span class="p">))</span>
	
	<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s"><span class="hljs-string">"author_form.html"</span></span><span class="p">,</span> <span class="p">{</span><span class="s"><span class="hljs-string">"form"</span></span> <span class="p">:</span> <span class="n">form</span><span class="p">})</span>

<span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">AuthorEditPopup</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">,</span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="n"><span class="hljs-function"><span class="hljs-params">pk</span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="o"><span class="hljs-function"><span class="hljs-params">=</span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="bp"><span class="hljs-function"><span class="hljs-params">None</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">)</span>:</span></span>
	<span class="n">instance</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Author</span><span class="p">,</span> <span class="n">pk</span> <span class="o">=</span> <span class="n">pk</span><span class="p">)</span>
	<span class="n">form</span> <span class="o">=</span> <span class="n">AuthorForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span> <span class="ow"><span class="hljs-keyword">or</span></span> <span class="bp"><span class="hljs-keyword">None</span></span><span class="p">,</span> <span class="n">instance</span> <span class="o">=</span> <span class="n">instance</span><span class="p">)</span>
	<span class="k"><span class="hljs-keyword">if</span></span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
		<span class="n">instance</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
		
		<span class="c1"><span class="hljs-comment">## Change the value of the "#id_author". This is the element id in the form</span>
</span>		
		<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s"><span class="hljs-string">'&lt;script&gt;opener.closePopup(window, "</span></span><span class="si"><span class="hljs-string">%</span></span><span class="s"><span class="hljs-string">s", "</span></span><span class="si"><span class="hljs-string">%</span></span><span class="s"><span class="hljs-string">s", "#id_author");&lt;/script&gt;'</span></span> <span class="o">%</span> <span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">pk</span><span class="p">,</span> <span class="n">instance</span><span class="p">))</span>

	<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s"><span class="hljs-string">"author_form.html"</span></span><span class="p">,</span> <span class="p">{</span><span class="s"><span class="hljs-string">"form"</span></span> <span class="p">:</span> <span class="n">form</span><span class="p">})</span>

<span class="o"><span class="hljs-meta">@</span></span><span class="n"><span class="hljs-meta">csrf_exempt</span></span>
<span class="k"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="nf"><span class="hljs-function"><span class="hljs-title">get_author_id</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="n"><span class="hljs-function"><span class="hljs-params">request</span></span></span><span class="p"><span class="hljs-function"><span class="hljs-params">)</span>:</span></span>
	<span class="k"><span class="hljs-keyword">if</span></span> <span class="n">request</span><span class="o">.</span><span class="n">is_ajax</span><span class="p">():</span>
		<span class="n">author_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">[</span><span class="s"><span class="hljs-string">'author_name'</span></span><span class="p">]</span>
		<span class="n">author_id</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">author_name</span><span class="p">)</span><span class="o">.</span><span class="nb">id</span>
		<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s"><span class="hljs-string">'author_id'</span></span><span class="p">:</span><span class="n">author_id</span><span class="p">,}</span>
		<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">),</span> <span class="n">content_type</span><span class="o">=</span><span class="s"><span class="hljs-string">'application/json'</span></span><span class="p">)</span>
	<span class="k"><span class="hljs-keyword">return</span></span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s"><span class="hljs-string">"/"</span></span><span class="p">)</span></code></pre>
</figure>

<h4 id="urlspy">Urls.py</h4>
<p>Configure your URLs according to your views</p>

<figure class="highlight">
  <pre><code class="language-python hljs" data-lang="python" id="code-3"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-3" style="display: none;">Copy</button><span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">django.conf.urls</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="n">url</span>
<span class="kn"><span class="hljs-keyword">from</span></span> <span class="nn">my_app.views</span> <span class="kn"><span class="hljs-keyword">import</span></span> <span class="p">(</span><span class="n">BookCreate</span><span class="p">,</span>
                          <span class="n">AuthorCreatePopup</span><span class="p">,</span>
                          <span class="n">AuthorEditPopup</span><span class="p">,</span>
                          <span class="n">get_author_id</span><span class="p">)</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="n">url</span><span class="p">(</span><span class="s"><span class="hljs-string">r'^book/create'</span></span><span class="p">,</span> <span class="n">BookCreate</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s"><span class="hljs-string">"BookCreate"</span></span><span class="p">),</span>
    <span class="n">url</span><span class="p">(</span><span class="s"><span class="hljs-string">r'^author/create'</span></span><span class="p">,</span> <span class="n">AuthorCreatePopup</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s"><span class="hljs-string">"AuthorCreate"</span></span><span class="p">),</span>
    <span class="n">url</span><span class="p">(</span><span class="s"><span class="hljs-string">r'^author/(?P&lt;pk&gt;\d+)/edit'</span></span><span class="p">,</span> <span class="n">AuthorEditPopup</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s"><span class="hljs-string">"AuthorEdit"</span></span><span class="p">),</span>
    <span class="n">url</span><span class="p">(</span><span class="s"><span class="hljs-string">r'^author/ajax/get_author_id'</span></span><span class="p">,</span> <span class="n">get_author_id</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s"><span class="hljs-string">"get_author_id"</span></span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
 </code></pre>
</figure>

<h2 id="implementing-client-side">Implementing Client-Side</h2>
<h5 id="templatesbook_formhtml">Templates/book_form.html</h5>
<p>Create the main form for the Book(for this example).</p>

<p>Note that I have taken images from the Admin icon images for add and edit.</p>

<figure class="highlight">
  <pre><code class="language-django hljs" data-lang="django" id="code-4"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-4" style="display: none;">Copy</button><span class="cp"><span class="xml"></span><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">extends</span></span></span></span><span class="hljs-template-tag"> </span><span class="s2"><span class="hljs-template-tag">"base.html"</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">
</span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">load</span></span></span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag">staticfiles</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">
</span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">block</span></span></span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag">content</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">

</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">
	</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span></span><span class="xml">Create a Book</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span><span class="xml">
	</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">method</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'POST'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">action</span>= </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">''</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">enctype</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"multipart/form-data"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">novalidate</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"book-form"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">csrf_token</span></span></span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"book-title"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Book Title</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></span><span class="xml">
			</span><span class="cp"><span class="hljs-template-variable">{{</span></span><span class="nv"><span class="hljs-template-variable">form.title</span></span><span class="hljs-template-variable"> </span><span class="cp"><span class="hljs-template-variable">}}</span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"book-author"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Book Author</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></span><span class="xml">
		</span><span class="cp"><span class="hljs-template-variable">{{</span></span><span class="nv"><span class="hljs-template-variable">form.author</span></span><span class="hljs-template-variable"> </span><span class="cp"><span class="hljs-template-variable">}}</span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"/author/create"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"add_author"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onclick</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"return showAddPopup(this);"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">static</span></span></span></span><span class="hljs-template-tag"> </span><span class="s1"><span class="hljs-template-tag">'/images/icon-addlink.svg'</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"edit_author"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"cursor: pointer; cursor: hand;"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">static</span></span></span></span><span class="hljs-template-tag"> </span><span class="s1"><span class="hljs-template-tag">'/images/icon-changelink.svg'</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"book-price"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Book Price</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></span><span class="xml">
		</span><span class="cp"><span class="hljs-template-variable">{{</span></span><span class="nv"><span class="hljs-template-variable">form.price</span></span><span class="hljs-template-variable"> </span><span class="cp"><span class="hljs-template-variable">}}</span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"book-publish"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"control-label"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Book Publish</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></span><span class="xml">
		</span><span class="cp"><span class="hljs-template-variable">{{</span></span><span class="nv"><span class="hljs-template-variable">form.publish</span></span><span class="hljs-template-variable"> </span><span class="cp"><span class="hljs-template-variable">}}</span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Submit"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="nt"><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml">
	</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span></span><span class="xml">
</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><span class="xml">

</span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endblock</span></span></span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml"></span></code></pre>
</figure>

<p>Add the following Jquery Script to either above form or to the base.html</p>

<figure class="highlight">
  <pre><code class="language-django hljs" data-lang="django" id="code-5"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-5" style="display: none;">Copy</button><span class="cp"><span class="xml"></span><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">block</span></span></span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag">script</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">

</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> </span></span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"><span class="javascript">
</span></span><span class="kd"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-title">showEditPopup</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">url</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function">)</span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="p"><span class="xml"><span class="javascript">{</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="kd"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">win</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">=</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nb"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="p"><span class="xml"><span class="javascript">.</span></span></span><span class="nx"><span class="xml"><span class="javascript">open</span></span></span><span class="p"><span class="xml"><span class="javascript">(</span></span></span><span class="nx"><span class="xml"><span class="javascript">url</span></span></span><span class="p"><span class="xml"><span class="javascript">,</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">"</span></span></span></span><span class="s2"><span class="xml"><span class="javascript"><span class="hljs-string">Edit</span></span></span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">"</span></span></span></span><span class="p"><span class="xml"><span class="javascript">,</span></span></span><span class="xml"><span class="javascript"> 
        </span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="s1"><span class="xml"><span class="javascript"><span class="hljs-string">height=500,width=800,resizable=yes,scrollbars=yes</span></span></span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="p"><span class="xml"><span class="javascript">);</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="k"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="kc"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="p"><span class="xml"><span class="javascript">;</span></span></span><span class="xml"><span class="javascript">
</span></span><span class="p"><span class="xml"><span class="javascript">}</span></span></span><span class="xml"><span class="javascript">
</span></span><span class="kd"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-title">showAddPopup</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">triggeringLink</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function">)</span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="p"><span class="xml"><span class="javascript">{</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="kd"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">name</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">=</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">triggeringLink</span></span></span><span class="p"><span class="xml"><span class="javascript">.</span></span></span><span class="nx"><span class="xml"><span class="javascript">id</span></span></span><span class="p"><span class="xml"><span class="javascript">.</span></span></span><span class="nx"><span class="xml"><span class="javascript">replace</span></span></span><span class="p"><span class="xml"><span class="javascript">(</span></span></span><span class="sr"><span class="xml"><span class="javascript"><span class="hljs-regexp">/^add_/</span></span></span></span><span class="p"><span class="xml"><span class="javascript">,</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">''</span></span></span></span><span class="p"><span class="xml"><span class="javascript">);</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="nx"><span class="xml"><span class="javascript">href</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">=</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">triggeringLink</span></span></span><span class="p"><span class="xml"><span class="javascript">.</span></span></span><span class="nx"><span class="xml"><span class="javascript">href</span></span></span><span class="p"><span class="xml"><span class="javascript">;</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="kd"><span class="xml"><span class="javascript"><span class="hljs-keyword">var</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">win</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">=</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nb"><span class="xml"><span class="javascript"><span class="hljs-built_in">window</span></span></span></span><span class="p"><span class="xml"><span class="javascript">.</span></span></span><span class="nx"><span class="xml"><span class="javascript">open</span></span></span><span class="p"><span class="xml"><span class="javascript">(</span></span></span><span class="nx"><span class="xml"><span class="javascript">href</span></span></span><span class="p"><span class="xml"><span class="javascript">,</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">name</span></span></span><span class="p"><span class="xml"><span class="javascript">,</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="s1"><span class="xml"><span class="javascript"><span class="hljs-string">height=500,width=800,resizable=yes,scrollbars=yes</span></span></span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="p"><span class="xml"><span class="javascript">);</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="nx"><span class="xml"><span class="javascript">win</span></span></span><span class="p"><span class="xml"><span class="javascript">.</span></span></span><span class="nx"><span class="xml"><span class="javascript">focus</span></span></span><span class="p"><span class="xml"><span class="javascript">();</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="k"><span class="xml"><span class="javascript"><span class="hljs-keyword">return</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="kc"><span class="xml"><span class="javascript"><span class="hljs-literal">false</span></span></span></span><span class="p"><span class="xml"><span class="javascript">;</span></span></span><span class="xml"><span class="javascript">
</span></span><span class="p"><span class="xml"><span class="javascript">}</span></span></span><span class="xml"><span class="javascript">
</span></span><span class="kd"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-title">closePopup</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function">(</span></span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">win</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">,</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"> </span></span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">newID</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">,</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"> </span></span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">newRepr</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">,</span></span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params"> </span></span></span></span><span class="nx"><span class="xml"><span class="javascript"><span class="hljs-function"><span class="hljs-params">id</span></span></span></span></span><span class="p"><span class="xml"><span class="javascript"><span class="hljs-function">)</span></span></span></span><span class="xml"><span class="javascript"><span class="hljs-function"> </span></span></span><span class="p"><span class="xml"><span class="javascript">{</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="nx"><span class="xml"><span class="javascript">$</span></span></span><span class="p"><span class="xml"><span class="javascript">(</span></span></span><span class="nx"><span class="xml"><span class="javascript">id</span></span></span><span class="p"><span class="xml"><span class="javascript">).</span></span></span><span class="nx"><span class="xml"><span class="javascript">append</span></span></span><span class="p"><span class="xml"><span class="javascript">(</span></span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="s1"><span class="xml"><span class="javascript"><span class="hljs-string">&lt;option value=</span></span></span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">+</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">newID</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">+</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="s1"><span class="xml"><span class="javascript"><span class="hljs-string"> selected &gt;</span></span></span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">+</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="nx"><span class="xml"><span class="javascript">newRepr</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="o"><span class="xml"><span class="javascript">+</span></span></span><span class="xml"><span class="javascript"> </span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="s1"><span class="xml"><span class="javascript"><span class="hljs-string">&lt;/option&gt;</span></span></span></span><span class="dl"><span class="xml"><span class="javascript"><span class="hljs-string">'</span></span></span></span><span class="p"><span class="xml"><span class="javascript">)</span></span></span><span class="xml"><span class="javascript">
    </span></span><span class="nx"><span class="xml"><span class="javascript">win</span></span></span><span class="p"><span class="xml"><span class="javascript">.</span></span></span><span class="nx"><span class="xml"><span class="javascript">close</span></span></span><span class="p"><span class="xml"><span class="javascript">();</span></span></span><span class="xml"><span class="javascript">
</span></span><span class="p"><span class="xml"><span class="javascript">}</span></span></span><span class="xml"><span class="javascript">

</span></span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span></span><span class="xml">
</span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endblock</span></span></span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml"></span></code></pre>
</figure>

<p>Create an Ajax Call that will activate when edit link is clicked. This Ajax Call is made to get the ID of the name which it is associated.</p>

<figure class="highlight">
  <pre><code class="language-javascript hljs" data-lang="javascript" id="code-6"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-6" style="display: none;">Copy</button><span class="nx">$</span><span class="p">(</span><span class="dl"><span class="hljs-string">"</span></span><span class="s2"><span class="hljs-string">#edit_author</span></span><span class="dl"><span class="hljs-string">"</span></span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="kd"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="p"><span class="hljs-function">(<span class="hljs-params"></span>)</span>{</span>
	<span class="nx">author_name</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl"><span class="hljs-string">"</span></span><span class="s2"><span class="hljs-string">#id_author option:selected</span></span><span class="dl"><span class="hljs-string">"</span></span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
	<span class="kd"><span class="hljs-keyword">var</span></span> <span class="nx">data</span> <span class="o">=</span> <span class="p">{</span><span class="dl"><span class="hljs-string">"</span></span><span class="s2"><span class="hljs-string">author_name</span></span><span class="dl"><span class="hljs-string">"</span></span><span class="p">:</span><span class="nx">author_name</span><span class="p">};</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na"><span class="hljs-attr">type</span></span> <span class="p">:</span> <span class="dl"><span class="hljs-string">'</span></span><span class="s1"><span class="hljs-string">GET</span></span><span class="dl"><span class="hljs-string">'</span></span><span class="p">,</span>
        <span class="na"><span class="hljs-attr">url</span></span> <span class="p">:</span>  <span class="dl"><span class="hljs-string">'</span></span><span class="s1"><span class="hljs-string">/author/ajax/get_author_id</span></span><span class="dl"><span class="hljs-string">'</span></span><span class="p">,</span>
        <span class="na"><span class="hljs-attr">data</span></span> <span class="p">:</span> <span class="nx">data</span><span class="p">,</span>
        <span class="na"><span class="hljs-attr">success</span></span> <span class="p">:</span> <span class="kd"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="p"><span class="hljs-function">(</span></span><span class="nx"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="p"><span class="hljs-function">)</span>{</span>
        	<span class="kd"><span class="hljs-keyword">var</span></span> <span class="nx">url</span> <span class="o">=</span> <span class="dl"><span class="hljs-string">"</span></span><span class="s2"><span class="hljs-string">/author/</span></span><span class="dl"><span class="hljs-string">"</span></span> <span class="o">+</span> <span class="nx">data</span><span class="p">[</span><span class="dl"><span class="hljs-string">'</span></span><span class="s1"><span class="hljs-string">author_id</span></span><span class="dl"><span class="hljs-string">'</span></span><span class="p">]</span> <span class="o">+</span> <span class="dl"><span class="hljs-string">"</span></span><span class="s2"><span class="hljs-string">/edit/</span></span><span class="dl"><span class="hljs-string">"</span></span><span class="p">;</span>
        	<span class="nx">showEditPopup</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na"><span class="hljs-attr">error</span></span><span class="p">:</span> <span class="kd"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="p"><span class="hljs-function">(</span></span><span class="nx"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="p"><span class="hljs-function">)</span></span><span class="hljs-function"> </span><span class="p">{</span>
          <span class="nx">alert</span><span class="p">(</span><span class="dl"><span class="hljs-string">"</span></span><span class="s2"><span class="hljs-string">Something Went Wrong</span></span><span class="dl"><span class="hljs-string">"</span></span><span class="p">);</span> 
        <span class="p">}</span>
  	<span class="p">});</span>
<span class="p">})</span></code></pre>
</figure>

<h4 id="templatesauthor_formhtml">Templates/author_form.html</h4>
<p>Create a basic form for the foreign key Model i.e., Author in this example.</p>

<figure class="highlight">
  <pre><code class="language-django hljs" data-lang="django" id="code-7"><button type="button" data-clipboard-action="copy" data-toggle="tooltip" data-placement="bottom" title="Copy to Clipboard" class="btn clippy btn-clipboard" data-clipboard-target="#code-7" style="display: none;">Copy</button><span class="cp"><span class="xml"></span><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">extends</span></span></span></span><span class="hljs-template-tag"> </span><span class="s2"><span class="hljs-template-tag">"base.html"</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">

</span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">block</span></span></span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag">content</span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">
</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">class</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">
	</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span></span></span><span class="xml">Author Form</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></span><span class="xml">
	</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">method</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'POST'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">action</span>= </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">''</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">enctype</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"multipart/form-data"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">novalidate</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"author-form"</span></span></span></span><span class="nt"><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="nv"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">csrf_token</span></span></span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml">
		</span><span class="cp"><span class="hljs-template-variable">{{</span></span><span class="nv"><span class="hljs-template-variable">form.as_p</span></span><span class="cp"><span class="hljs-template-variable">}}</span></span><span class="xml">
		</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span>=</span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="na"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span> = </span></span></span><span class="s"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Submit"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="nt"><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml">
	</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span></span><span class="xml">
</span><span class="nt"><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><span class="xml">
</span><span class="cp"><span class="hljs-template-tag">{%</span></span><span class="hljs-template-tag"> </span><span class="k"><span class="hljs-template-tag"><span class="hljs-name"><span class="hljs-name">endblock</span></span></span></span><span class="hljs-template-tag"> </span><span class="cp"><span class="hljs-template-tag">%}</span></span><span class="xml"></span></code></pre>
</figure>

<p>If you have followed the same example, you will get this type of output.</p>

<p><img class="img-fluid lazy" alt="" src="/img/reverse-engineering-of-the-django-admin-foreign-keys-addedit-button/1.jpg" title=""></p>

<h2 id="final-words">Final Words</h2>

<p>If you have any Question regarding the above tutorial feel free to comment below. And also share the experience with the DjangoPy in the comments below. You can find the repository from <a href="https://github.com/djangopy-org/reverse-engineering-django-admin" target="_blank">here</a>.</p>


                </div>
                
                
                

                

 

                
                
                
                
                
                



                
                
                
            </div>
        </div>
    </div>
</div>

<!-- Latest Posts -->

      </div>
    </div>